{'resource': '/portal/sites', 'path': '/portal/sites', 'httpMethod': 'POST',
'headers': {'accept': 'application/json, text/plain, */*', 'accept-encoding': 'gzip, deflate, br', 'accept-language': 'en-US,en;q=0.9',
'Authorization': 'eyJraWQiOiJrUExkYUFqS28yMEl6N0NPblRmVVdBejlnUW9XMHAzSUxYekpWbWxla3NJPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkMTIwOGZjOS0wNzRiLTQ0YWEtYTRjZi01MjE4Mjc4YTQ2ZGQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfdElhcWVpeVhCIiwiY29nbml0bzp1c2VybmFtZSI6ImFkbWluIiwib3JpZ2luX2p0aSI6Ijg0NTFkN2I0LTg1NDUtNGU2My1iNTE4LTFhZjI5ZjA0OGY2MiIsImF1ZCI6IjZpbGVjMGIwZjBxcmo1M2VpbWk5OWE0bjZnIiwiZXZlbnRfaWQiOiI5Y2I4OTUwYS0wNTliLTQyYTgtYjlkZi0wNjM3YzJlODEyOTEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY0ODEwNjcyOSwiZXhwIjoxNjQ4MTkzMTI5LCJpYXQiOjE2NDgxMDY3MjksImp0aSI6ImM4NGFhZTIyLTY3YTktNDRmMi1iNDI0LTczNDc5ZWY5ODBkMSIsImVtYWlsIjoic2FuamVldkBlbnNhcnNvbHV0aW9ucy5jb20ifQ.iaoCQAos3E6Tn7USrk6XWbnPIHQP0cTJB3NgTP1vyLrtiwme9jZC-TFxu8x12JPnjrUkeR2bjnPq6zzRF9j4lYKBo41Ujy39WN9ZUg-X-EKVPuFXNZPN-9FH15ZS6EXuy_nmtfF9-dh1alB2S5A6V9wj1T_et-d4DgFOUNP6v0uhuCqxHNwf4AkuWocJI4eSo1AAa-SLx82DB9NNOknR_Sm8nG8OM1jNkXl5O7UZ12Cd94reNX9XCDC3UYM6RPSrgZv8vF2vmiVQ18Ui5Oa0vtSPBRm_B23xPksxcO3lENsHpDWHQx-pSTBNC_QRGn1663m-8pHIHrwbCR_kgOpjYg', 'Host': 'plxyyiu9x0.execute-api.us-east-1.amazonaws.com', 'origin': 'https://dev.guardian-connect.com', 'referer': 'https://dev.guardian-connect.com/', 'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="99", "Google Chrome";v="99"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'sec-fetch-dest': 'empty', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.74 Safari/537.36', 'X-Amzn-Trace-Id': 'Root=1-623c0ea7-53e9f85260af3d076c4a0dce;Sampled=0', 'X-Forwarded-For': '49.204.192.161', 'X-Forwarded-Port': '443', 'X-Forwarded-Proto': 'https'}, 'multiValueHeaders': {'accept': ['application/json, text/plain, */*'], 'accept-encoding': ['gzip, deflate, br'], 'accept-language': ['en-US,en;q=0.9'], 'Authorization': ['eyJraWQiOiJrUExkYUFqS28yMEl6N0NPblRmVVdBejlnUW9XMHAzSUxYekpWbWxla3NJPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkMTIwOGZjOS0wNzRiLTQ0YWEtYTRjZi01MjE4Mjc4YTQ2ZGQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfdElhcWVpeVhCIiwiY29nbml0bzp1c2VybmFtZSI6ImFkbWluIiwib3JpZ2luX2p0aSI6Ijg0NTFkN2I0LTg1NDUtNGU2My1iNTE4LTFhZjI5ZjA0OGY2MiIsImF1ZCI6IjZpbGVjMGIwZjBxcmo1M2VpbWk5OWE0bjZnIiwiZXZlbnRfaWQiOiI5Y2I4OTUwYS0wNTliLTQyYTgtYjlkZi0wNjM3YzJlODEyOTEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY0ODEwNjcyOSwiZXhwIjoxNjQ4MTkzMTI5LCJpYXQiOjE2NDgxMDY3MjksImp0aSI6ImM4NGFhZTIyLTY3YTktNDRmMi1iNDI0LTczNDc5ZWY5ODBkMSIsImVtYWlsIjoic2FuamVldkBlbnNhcnNvbHV0aW9ucy5jb20ifQ.iaoCQAos3E6Tn7USrk6XWbnPIHQP0cTJB3NgTP1vyLrtiwme9jZC-TFxu8x12JPnjrUkeR2bjnPq6zzRF9j4lYKBo41Ujy39WN9ZUg-X-EKVPuFXNZPN-9FH15ZS6EXuy_nmtfF9-dh1alB2S5A6V9wj1T_et-d4DgFOUNP6v0uhuCqxHNwf4AkuWocJI4eSo1AAa-SLx82DB9NNOknR_Sm8nG8OM1jNkXl5O7UZ12Cd94reNX9XCDC3UYM6RPSrgZv8vF2vmiVQ18Ui5Oa0vtSPBRm_B23xPksxcO3lENsHpDWHQx-pSTBNC_QRGn1663m-8pHIHrwbCR_kgOpjYg'], 'Host': ['plxyyiu9x0.execute-api.us-east-1.amazonaws.com'], 'origin': ['https://dev.guardian-connect.com'], 'referer': ['https://dev.guardian-connect.com/'], 'sec-ch-ua': ['" Not A;Brand";v="99", "Chromium";v="98", "Google Chrome";v="98"'], 'sec-ch-ua-mobile': ['?0'], 'sec-ch-ua-platform': ['"Windows"'], 'sec-fetch-dest': ['empty'], 'sec-fetch-mode': ['cors'], 'sec-fetch-site': ['cross-site'], 'User-Agent': ['Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36'], 'X-Amzn-Trace-Id': ['Root=1-6221cdcf-36bc24fe7b89a754518822c5'], 'X-Forwarded-For': ['49.204.192.161'], 'X-Forwarded-Port': ['443'], 'X-Forwarded-Proto': ['https']}, 'queryStringParameters': {'sortField': 'siteName', 'sortOrder': '1'}, 'multiValueQueryStringParameters': {'sortField': ['siteName'], 'sortOrder': ['1']}, 'pathParameters': None, 'stageVariables': None, 'requestContext': {'resourceId': '2jgx80','authorizer': {'claims': {'sub': 'd1208fc9-074b-44aa-a4cf-5218278a46dd', 'email_verified': 'true', 'iss': 'https://cognito-idp.us-east-1.amazonaws.com/us-east-1_tIaqeiyXB', 'cognito:username': 'admin', 'given_name': 'Admin', 'aud': '6ilec0b0f0qrj53eimi99a4n6g', 'event_id': '6ilec0b0f0qrj53eimi99a4n6g', 'token_use': 'id', 'auth_time': '1648106729', 'exp': 'Fri Mar 04 09:28:56 UTC 2022', 'iat': 'Fri Mar 04 08:28:56 UTC 2022', 'family_name': 'Admin', 'email': 'sanjeev@ensarsolutions.com'}}, 'resourcePath': '/portal/sites', 'httpMethod': 'POST', 'extendedRequestId': 'Oc0YYHiRiYcFpEw=', 'requestTime': '04/Mar/2022:08:29:03 +0000', 'path': '/prod/portal/sites', 'accountId': '332167152351', 'protocol': 'HTTP/1.1', 'stage': 'prod', 'domainPrefix': 'plxyyiu9x0', 'requestTimeEpoch': 1646382543081, 'requestId': '3b5aebc0-9023-4502-bc95-3972e97e0412', 'identity': {'cognitoIdentityPoolId': None, 'accountId': None, 'cognitoIdentityId': None, 'caller': None, 'sourceIp': '49.204.192.161', 'principalOrgId': None, 'accessKey': None, 'cognitoAuthenticationType': None, 'cognitoAuthenticationProvider': None, 'userArn': None, 'userAgent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.74 Safari/537.36', 'user': None}, 'domainName': 'plxyyiu9x0.execute-api.us-east-1.amazonaws.com', 'apiId': 'plxyyiu9x0'}, 'body': '{"siteName":"Test CK MRK","siteNumber":"264308","siteOwnerOrganizationId":"4","serviceProviderOrganizationId":"2","streetAddress1":"kphb 4 th phase","streetAddress2":"kukatpally JNTUH","city":"Hyderabad","state":"Telangana","country":"India","zipCode":"500081","locationLatitude":"18.17","locationLongitude":"72.05","siteTimezone":"America/New_York","sitePhone":"5556669991","siteNote":"a new site added"}', 'isBase64Encoded': False}


// siteowner sites , post method , with address code & customer number

event = {'resource': '/portal/sites', 'path': '/portal/sites', 'httpMethod': 'POST',
'headers': {'accept': 'application/json, text/plain, */*', 'accept-encoding': 'gzip, deflate, br', 'accept-language': 'en-US,en;q=0.9',
'Authorization': 'eyJraWQiOiJrUExkYUFqS28yMEl6N0NPblRmVVdBejlnUW9XMHAzSUxYekpWbWxla3NJPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkMTIwOGZjOS0wNzRiLTQ0YWEtYTRjZi01MjE4Mjc4YTQ2ZGQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfdElhcWVpeVhCIiwiY29nbml0bzp1c2VybmFtZSI6ImFkbWluIiwib3JpZ2luX2p0aSI6Ijg0NTFkN2I0LTg1NDUtNGU2My1iNTE4LTFhZjI5ZjA0OGY2MiIsImF1ZCI6IjZpbGVjMGIwZjBxcmo1M2VpbWk5OWE0bjZnIiwiZXZlbnRfaWQiOiI5Y2I4OTUwYS0wNTliLTQyYTgtYjlkZi0wNjM3YzJlODEyOTEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY0ODEwNjcyOSwiZXhwIjoxNjQ4MTkzMTI5LCJpYXQiOjE2NDgxMDY3MjksImp0aSI6ImM4NGFhZTIyLTY3YTktNDRmMi1iNDI0LTczNDc5ZWY5ODBkMSIsImVtYWlsIjoic2FuamVldkBlbnNhcnNvbHV0aW9ucy5jb20ifQ.iaoCQAos3E6Tn7USrk6XWbnPIHQP0cTJB3NgTP1vyLrtiwme9jZC-TFxu8x12JPnjrUkeR2bjnPq6zzRF9j4lYKBo41Ujy39WN9ZUg-X-EKVPuFXNZPN-9FH15ZS6EXuy_nmtfF9-dh1alB2S5A6V9wj1T_et-d4DgFOUNP6v0uhuCqxHNwf4AkuWocJI4eSo1AAa-SLx82DB9NNOknR_Sm8nG8OM1jNkXl5O7UZ12Cd94reNX9XCDC3UYM6RPSrgZv8vF2vmiVQ18Ui5Oa0vtSPBRm_B23xPksxcO3lENsHpDWHQx-pSTBNC_QRGn1663m-8pHIHrwbCR_kgOpjYg', 'Host': 'plxyyiu9x0.execute-api.us-east-1.amazonaws.com', 'origin': 'https://dev.guardian-connect.com', 'referer': 'https://dev.guardian-connect.com/', 'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="99", "Google Chrome";v="99"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'sec-fetch-dest': 'empty', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.74 Safari/537.36', 'X-Amzn-Trace-Id': 'Root=1-623c0ea7-53e9f85260af3d076c4a0dce;Sampled=0', 'X-Forwarded-For': '49.204.192.161', 'X-Forwarded-Port': '443', 'X-Forwarded-Proto': 'https'}, 'multiValueHeaders': {'accept': ['application/json, text/plain, */*'], 'accept-encoding': ['gzip, deflate, br'], 'accept-language': ['en-US,en;q=0.9'], 'Authorization': ['eyJraWQiOiJrUExkYUFqS28yMEl6N0NPblRmVVdBejlnUW9XMHAzSUxYekpWbWxla3NJPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkMTIwOGZjOS0wNzRiLTQ0YWEtYTRjZi01MjE4Mjc4YTQ2ZGQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfdElhcWVpeVhCIiwiY29nbml0bzp1c2VybmFtZSI6ImFkbWluIiwib3JpZ2luX2p0aSI6Ijg0NTFkN2I0LTg1NDUtNGU2My1iNTE4LTFhZjI5ZjA0OGY2MiIsImF1ZCI6IjZpbGVjMGIwZjBxcmo1M2VpbWk5OWE0bjZnIiwiZXZlbnRfaWQiOiI5Y2I4OTUwYS0wNTliLTQyYTgtYjlkZi0wNjM3YzJlODEyOTEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY0ODEwNjcyOSwiZXhwIjoxNjQ4MTkzMTI5LCJpYXQiOjE2NDgxMDY3MjksImp0aSI6ImM4NGFhZTIyLTY3YTktNDRmMi1iNDI0LTczNDc5ZWY5ODBkMSIsImVtYWlsIjoic2FuamVldkBlbnNhcnNvbHV0aW9ucy5jb20ifQ.iaoCQAos3E6Tn7USrk6XWbnPIHQP0cTJB3NgTP1vyLrtiwme9jZC-TFxu8x12JPnjrUkeR2bjnPq6zzRF9j4lYKBo41Ujy39WN9ZUg-X-EKVPuFXNZPN-9FH15ZS6EXuy_nmtfF9-dh1alB2S5A6V9wj1T_et-d4DgFOUNP6v0uhuCqxHNwf4AkuWocJI4eSo1AAa-SLx82DB9NNOknR_Sm8nG8OM1jNkXl5O7UZ12Cd94reNX9XCDC3UYM6RPSrgZv8vF2vmiVQ18Ui5Oa0vtSPBRm_B23xPksxcO3lENsHpDWHQx-pSTBNC_QRGn1663m-8pHIHrwbCR_kgOpjYg'], 'Host': ['plxyyiu9x0.execute-api.us-east-1.amazonaws.com'], 'origin': ['https://dev.guardian-connect.com'], 'referer': ['https://dev.guardian-connect.com/'], 'sec-ch-ua': ['" Not A;Brand";v="99", "Chromium";v="98", "Google Chrome";v="98"'], 'sec-ch-ua-mobile': ['?0'], 'sec-ch-ua-platform': ['"Windows"'], 'sec-fetch-dest': ['empty'], 'sec-fetch-mode': ['cors'], 'sec-fetch-site': ['cross-site'], 'User-Agent': ['Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36'], 'X-Amzn-Trace-Id': ['Root=1-6221cdcf-36bc24fe7b89a754518822c5'], 'X-Forwarded-For': ['49.204.192.161'], 'X-Forwarded-Port': ['443'], 'X-Forwarded-Proto': ['https']}, 'queryStringParameters': {'sortField': 'siteName', 'sortOrder': '1'}, 'multiValueQueryStringParameters': {'sortField': ['siteName'], 'sortOrder': ['1']}, 'pathParameters': None, 'stageVariables': None, 'requestContext': {'resourceId': '2jgx80','authorizer': {'claims': {'sub': 'd1208fc9-074b-44aa-a4cf-5218278a46dd', 'email_verified': 'true', 'iss': 'https://cognito-idp.us-east-1.amazonaws.com/us-east-1_tIaqeiyXB', 'cognito:username': 'admin', 'given_name': 'Admin', 'aud': '6ilec0b0f0qrj53eimi99a4n6g', 'event_id': '6ilec0b0f0qrj53eimi99a4n6g', 'token_use': 'id', 'auth_time': '1648106729', 'exp': 'Fri Mar 04 09:28:56 UTC 2022', 'iat': 'Fri Mar 04 08:28:56 UTC 2022', 'family_name': 'Admin', 'email': 'sanjeev@ensarsolutions.com'}}, 'resourcePath': '/portal/sites', 'httpMethod': 'POST', 'extendedRequestId': 'Oc0YYHiRiYcFpEw=', 'requestTime': '04/Mar/2022:08:29:03 +0000', 'path': '/prod/portal/sites', 'accountId': '332167152351', 'protocol': 'HTTP/1.1', 'stage': 'prod', 'domainPrefix': 'plxyyiu9x0', 'requestTimeEpoch': 1646382543081, 'requestId': '3b5aebc0-9023-4502-bc95-3972e97e0412', 'identity': {'cognitoIdentityPoolId': None, 'accountId': None, 'cognitoIdentityId': None, 'caller': None, 'sourceIp': '49.204.192.161', 'principalOrgId': None, 'accessKey': None, 'cognitoAuthenticationType': None, 'cognitoAuthenticationProvider': None, 'userArn': None, 'userAgent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.74 Safari/537.36', 'user': None}, 'domainName': 'plxyyiu9x0.execute-api.us-east-1.amazonaws.com', 'apiId': 'plxyyiu9x0'}, 'body': '{"siteName":"Test CK 07","siteNumber":"070522","siteOwnerOrganizationId":"4","streetAddress1":"kphb 4 th phase","streetAddress2":"kukatpally JNTUH","city":"Hyderabad","state":"Telangana","country":"India","zipCode":"500081","locationLatitude":"18.17","locationLongitude":"72.05","siteTimezone":"America/New_York","sitePhone":"5556669991","siteNote":"a new site added","addressCode":"KP0705","customerNumber":"AS07"}', 'isBase64Encoded': False}
lambda_handler(event,event)

event = {'resource': '/portal/sites', 'path': '/portal/sites', 'httpMethod': 'GET',
    'headers': {'accept': 'application/json, text/plain, */*', 'accept-encoding': 'gzip, deflate, br', 'accept-language': 'en-US,en;q=0.9',
    'Authorization': 'eyJraWQiOiJrUExkYUFqS28yMEl6N0NPblRmVVdBejlnUW9XMHAzSUxYekpWbWxla3NJPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkMTIwOGZjOS0wNzRiLTQ0YWEtYTRjZi01MjE4Mjc4YTQ2ZGQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfdElhcWVpeVhCIiwiY29nbml0bzp1c2VybmFtZSI6ImFkbWluIiwib3JpZ2luX2p0aSI6Ijg0NTFkN2I0LTg1NDUtNGU2My1iNTE4LTFhZjI5ZjA0OGY2MiIsImF1ZCI6IjZpbGVjMGIwZjBxcmo1M2VpbWk5OWE0bjZnIiwiZXZlbnRfaWQiOiI5Y2I4OTUwYS0wNTliLTQyYTgtYjlkZi0wNjM3YzJlODEyOTEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY0ODEwNjcyOSwiZXhwIjoxNjQ4MTkzMTI5LCJpYXQiOjE2NDgxMDY3MjksImp0aSI6ImM4NGFhZTIyLTY3YTktNDRmMi1iNDI0LTczNDc5ZWY5ODBkMSIsImVtYWlsIjoic2FuamVldkBlbnNhcnNvbHV0aW9ucy5jb20ifQ.iaoCQAos3E6Tn7USrk6XWbnPIHQP0cTJB3NgTP1vyLrtiwme9jZC-TFxu8x12JPnjrUkeR2bjnPq6zzRF9j4lYKBo41Ujy39WN9ZUg-X-EKVPuFXNZPN-9FH15ZS6EXuy_nmtfF9-dh1alB2S5A6V9wj1T_et-d4DgFOUNP6v0uhuCqxHNwf4AkuWocJI4eSo1AAa-SLx82DB9NNOknR_Sm8nG8OM1jNkXl5O7UZ12Cd94reNX9XCDC3UYM6RPSrgZv8vF2vmiVQ18Ui5Oa0vtSPBRm_B23xPksxcO3lENsHpDWHQx-pSTBNC_QRGn1663m-8pHIHrwbCR_kgOpjYg', 'Host': 'plxyyiu9x0.execute-api.us-east-1.amazonaws.com', 'origin': 'https://dev.guardian-connect.com', 'referer': 'https://dev.guardian-connect.com/', 'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="99", "Google Chrome";v="99"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'sec-fetch-dest': 'empty', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.74 Safari/537.36', 'X-Amzn-Trace-Id': 'Root=1-623c0ea7-53e9f85260af3d076c4a0dce;Sampled=0', 'X-Forwarded-For': '49.204.192.161', 'X-Forwarded-Port': '443', 'X-Forwarded-Proto': 'https'}, 'multiValueHeaders': {'accept': ['application/json, text/plain, */*'], 'accept-encoding': ['gzip, deflate, br'], 'accept-language': ['en-US,en;q=0.9'], 'Authorization': ['eyJraWQiOiJrUExkYUFqS28yMEl6N0NPblRmVVdBejlnUW9XMHAzSUxYekpWbWxla3NJPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkMTIwOGZjOS0wNzRiLTQ0YWEtYTRjZi01MjE4Mjc4YTQ2ZGQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfdElhcWVpeVhCIiwiY29nbml0bzp1c2VybmFtZSI6ImFkbWluIiwib3JpZ2luX2p0aSI6Ijg0NTFkN2I0LTg1NDUtNGU2My1iNTE4LTFhZjI5ZjA0OGY2MiIsImF1ZCI6IjZpbGVjMGIwZjBxcmo1M2VpbWk5OWE0bjZnIiwiZXZlbnRfaWQiOiI5Y2I4OTUwYS0wNTliLTQyYTgtYjlkZi0wNjM3YzJlODEyOTEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY0ODEwNjcyOSwiZXhwIjoxNjQ4MTkzMTI5LCJpYXQiOjE2NDgxMDY3MjksImp0aSI6ImM4NGFhZTIyLTY3YTktNDRmMi1iNDI0LTczNDc5ZWY5ODBkMSIsImVtYWlsIjoic2FuamVldkBlbnNhcnNvbHV0aW9ucy5jb20ifQ.iaoCQAos3E6Tn7USrk6XWbnPIHQP0cTJB3NgTP1vyLrtiwme9jZC-TFxu8x12JPnjrUkeR2bjnPq6zzRF9j4lYKBo41Ujy39WN9ZUg-X-EKVPuFXNZPN-9FH15ZS6EXuy_nmtfF9-dh1alB2S5A6V9wj1T_et-d4DgFOUNP6v0uhuCqxHNwf4AkuWocJI4eSo1AAa-SLx82DB9NNOknR_Sm8nG8OM1jNkXl5O7UZ12Cd94reNX9XCDC3UYM6RPSrgZv8vF2vmiVQ18Ui5Oa0vtSPBRm_B23xPksxcO3lENsHpDWHQx-pSTBNC_QRGn1663m-8pHIHrwbCR_kgOpjYg'], 'Host': ['plxyyiu9x0.execute-api.us-east-1.amazonaws.com'], 'origin': ['https://dev.guardian-connect.com'], 'referer': ['https://dev.guardian-connect.com/'], 'sec-ch-ua': ['" Not A;Brand";v="99", "Chromium";v="98", "Google Chrome";v="98"'], 'sec-ch-ua-mobile': ['?0'], 'sec-ch-ua-platform': ['"Windows"'], 'sec-fetch-dest': ['empty'], 'sec-fetch-mode': ['cors'], 'sec-fetch-site': ['cross-site'], 'User-Agent': ['Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36'], 'X-Amzn-Trace-Id': ['Root=1-6221cdcf-36bc24fe7b89a754518822c5'], 'X-Forwarded-For': ['49.204.192.161'], 'X-Forwarded-Port': ['443'], 'X-Forwarded-Proto': ['https']}, 'queryStringParameters': {'sortField': 'siteName', 'sortOrder': '1'}, 'multiValueQueryStringParameters': {'sortField': ['siteName'], 'sortOrder': ['1']}, 'pathParameters': None, 'stageVariables': None, 'requestContext': {'resourceId': '2jgx80','authorizer': {'claims': {'sub': 'd1208fc9-074b-44aa-a4cf-5218278a46dd', 'email_verified': 'true', 'iss': 'https://cognito-idp.us-east-1.amazonaws.com/us-east-1_tIaqeiyXB', 'cognito:username': 'admin', 'given_name': 'Admin', 'aud': '6ilec0b0f0qrj53eimi99a4n6g', 'event_id': '6ilec0b0f0qrj53eimi99a4n6g', 'token_use': 'id', 'auth_time': '1648106729', 'exp': 'Fri Mar 04 09:28:56 UTC 2022', 'iat': 'Fri Mar 04 08:28:56 UTC 2022', 'family_name': 'Admin', 'email': 'sanjeev@ensarsolutions.com'}}, 'resourcePath': '/portal/sites', 'httpMethod': 'POST', 'extendedRequestId': 'Oc0YYHiRiYcFpEw=', 'requestTime': '04/Mar/2022:08:29:03 +0000', 'path': '/prod/portal/sites', 'accountId': '332167152351', 'protocol': 'HTTP/1.1', 'stage': 'prod', 'domainPrefix': 'plxyyiu9x0', 'requestTimeEpoch': 1646382543081, 'requestId': '3b5aebc0-9023-4502-bc95-3972e97e0412', 'identity': {'cognitoIdentityPoolId': None, 'accountId': None, 'cognitoIdentityId': None, 'caller': None, 'sourceIp': '49.204.192.161', 'principalOrgId': None, 'accessKey': None, 'cognitoAuthenticationType': None, 'cognitoAuthenticationProvider': None, 'userArn': None, 'userAgent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.74 Safari/537.36', 'user': None}, 'domainName': 'plxyyiu9x0.execute-api.us-east-1.amazonaws.com', 'apiId': 'plxyyiu9x0'}, 'body': '{"siteName":"Test CK 07","siteNumber":"070522","siteOwnerOrganizationId":"4","streetAddress1":"kphb 4 th phase","streetAddress2":"kukatpally JNTUH","city":"Hyderabad","state":"Telangana","country":"India","zipCode":"500081","locationLatitude":"18.17","locationLongitude":"72.05","siteTimezone":"America/New_York","sitePhone":"5556669991","siteNote":"a new site added","addressCode":"KP0705","customerNumber":"AS07"}', 'isBase64Encoded': False}
    lambda_handler(event,event)

    
# event = {'resource': '/portal/sites', 'path': '/portal/sites', 'httpMethod': 'GET',
    # 'headers': {'accept': 'application/json, text/plain, */*', 'accept-encoding': 'gzip, deflate, br', 'accept-language': 'en-US,en;q=0.9',
    # 'Authorization': 'eyJraWQiOiJrUExkYUFqS28yMEl6N0NPblRmVVdBejlnUW9XMHAzSUxYekpWbWxla3NJPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkMTIwOGZjOS0wNzRiLTQ0YWEtYTRjZi01MjE4Mjc4YTQ2ZGQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfdElhcWVpeVhCIiwiY29nbml0bzp1c2VybmFtZSI6ImFkbWluIiwib3JpZ2luX2p0aSI6Ijg0NTFkN2I0LTg1NDUtNGU2My1iNTE4LTFhZjI5ZjA0OGY2MiIsImF1ZCI6IjZpbGVjMGIwZjBxcmo1M2VpbWk5OWE0bjZnIiwiZXZlbnRfaWQiOiI5Y2I4OTUwYS0wNTliLTQyYTgtYjlkZi0wNjM3YzJlODEyOTEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY0ODEwNjcyOSwiZXhwIjoxNjQ4MTkzMTI5LCJpYXQiOjE2NDgxMDY3MjksImp0aSI6ImM4NGFhZTIyLTY3YTktNDRmMi1iNDI0LTczNDc5ZWY5ODBkMSIsImVtYWlsIjoic2FuamVldkBlbnNhcnNvbHV0aW9ucy5jb20ifQ.iaoCQAos3E6Tn7USrk6XWbnPIHQP0cTJB3NgTP1vyLrtiwme9jZC-TFxu8x12JPnjrUkeR2bjnPq6zzRF9j4lYKBo41Ujy39WN9ZUg-X-EKVPuFXNZPN-9FH15ZS6EXuy_nmtfF9-dh1alB2S5A6V9wj1T_et-d4DgFOUNP6v0uhuCqxHNwf4AkuWocJI4eSo1AAa-SLx82DB9NNOknR_Sm8nG8OM1jNkXl5O7UZ12Cd94reNX9XCDC3UYM6RPSrgZv8vF2vmiVQ18Ui5Oa0vtSPBRm_B23xPksxcO3lENsHpDWHQx-pSTBNC_QRGn1663m-8pHIHrwbCR_kgOpjYg', 'Host': 'plxyyiu9x0.execute-api.us-east-1.amazonaws.com', 'origin': 'https://dev.guardian-connect.com', 'referer': 'https://dev.guardian-connect.com/', 'sec-ch-ua': '" Not A;Brand";v="99", "Chromium";v="99", "Google Chrome";v="99"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'sec-fetch-dest': 'empty', 'sec-fetch-mode': 'cors', 'sec-fetch-site': 'cross-site', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.74 Safari/537.36', 'X-Amzn-Trace-Id': 'Root=1-623c0ea7-53e9f85260af3d076c4a0dce;Sampled=0', 'X-Forwarded-For': '49.204.192.161', 'X-Forwarded-Port': '443', 'X-Forwarded-Proto': 'https'}, 'multiValueHeaders': {'accept': ['application/json, text/plain, */*'], 'accept-encoding': ['gzip, deflate, br'], 'accept-language': ['en-US,en;q=0.9'], 'Authorization': ['eyJraWQiOiJrUExkYUFqS28yMEl6N0NPblRmVVdBejlnUW9XMHAzSUxYekpWbWxla3NJPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiJkMTIwOGZjOS0wNzRiLTQ0YWEtYTRjZi01MjE4Mjc4YTQ2ZGQiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLnVzLWVhc3QtMS5hbWF6b25hd3MuY29tXC91cy1lYXN0LTFfdElhcWVpeVhCIiwiY29nbml0bzp1c2VybmFtZSI6ImFkbWluIiwib3JpZ2luX2p0aSI6Ijg0NTFkN2I0LTg1NDUtNGU2My1iNTE4LTFhZjI5ZjA0OGY2MiIsImF1ZCI6IjZpbGVjMGIwZjBxcmo1M2VpbWk5OWE0bjZnIiwiZXZlbnRfaWQiOiI5Y2I4OTUwYS0wNTliLTQyYTgtYjlkZi0wNjM3YzJlODEyOTEiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY0ODEwNjcyOSwiZXhwIjoxNjQ4MTkzMTI5LCJpYXQiOjE2NDgxMDY3MjksImp0aSI6ImM4NGFhZTIyLTY3YTktNDRmMi1iNDI0LTczNDc5ZWY5ODBkMSIsImVtYWlsIjoic2FuamVldkBlbnNhcnNvbHV0aW9ucy5jb20ifQ.iaoCQAos3E6Tn7USrk6XWbnPIHQP0cTJB3NgTP1vyLrtiwme9jZC-TFxu8x12JPnjrUkeR2bjnPq6zzRF9j4lYKBo41Ujy39WN9ZUg-X-EKVPuFXNZPN-9FH15ZS6EXuy_nmtfF9-dh1alB2S5A6V9wj1T_et-d4DgFOUNP6v0uhuCqxHNwf4AkuWocJI4eSo1AAa-SLx82DB9NNOknR_Sm8nG8OM1jNkXl5O7UZ12Cd94reNX9XCDC3UYM6RPSrgZv8vF2vmiVQ18Ui5Oa0vtSPBRm_B23xPksxcO3lENsHpDWHQx-pSTBNC_QRGn1663m-8pHIHrwbCR_kgOpjYg'], 'Host': ['plxyyiu9x0.execute-api.us-east-1.amazonaws.com'], 'origin': ['https://dev.guardian-connect.com'], 'referer': ['https://dev.guardian-connect.com/'], 'sec-ch-ua': ['" Not A;Brand";v="99", "Chromium";v="98", "Google Chrome";v="98"'], 'sec-ch-ua-mobile': ['?0'], 'sec-ch-ua-platform': ['"Windows"'], 'sec-fetch-dest': ['empty'], 'sec-fetch-mode': ['cors'], 'sec-fetch-site': ['cross-site'], 'User-Agent': ['Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.102 Safari/537.36'], 'X-Amzn-Trace-Id': ['Root=1-6221cdcf-36bc24fe7b89a754518822c5'], 'X-Forwarded-For': ['49.204.192.161'], 'X-Forwarded-Port': ['443'], 'X-Forwarded-Proto': ['https']}, 'queryStringParameters': {'sortField': 'siteName', 'sortOrder': '1'}, 'multiValueQueryStringParameters': {'sortField': ['siteName'], 'sortOrder': ['1']}, 'pathParameters': None, 'stageVariables': None, 'requestContext': {'resourceId': '2jgx80','authorizer': {'claims': {'sub': 'd1208fc9-074b-44aa-a4cf-5218278a46dd', 'email_verified': 'true', 'iss': 'https://cognito-idp.us-east-1.amazonaws.com/us-east-1_tIaqeiyXB', 'cognito:username': 'admin', 'given_name': 'Admin', 'aud': '6ilec0b0f0qrj53eimi99a4n6g', 'event_id': '6ilec0b0f0qrj53eimi99a4n6g', 'token_use': 'id', 'auth_time': '1648106729', 'exp': 'Fri Mar 04 09:28:56 UTC 2022', 'iat': 'Fri Mar 04 08:28:56 UTC 2022', 'family_name': 'Admin', 'email': 'sanjeev@ensarsolutions.com'}}, 'resourcePath': '/portal/sites', 'httpMethod': 'POST', 'extendedRequestId': 'Oc0YYHiRiYcFpEw=', 'requestTime': '04/Mar/2022:08:29:03 +0000', 'path': '/prod/portal/sites', 'accountId': '332167152351', 'protocol': 'HTTP/1.1', 'stage': 'prod', 'domainPrefix': 'plxyyiu9x0', 'requestTimeEpoch': 1646382543081, 'requestId': '3b5aebc0-9023-4502-bc95-3972e97e0412', 'identity': {'cognitoIdentityPoolId': None, 'accountId': None, 'cognitoIdentityId': None, 'caller': None, 'sourceIp': '49.204.192.161', 'principalOrgId': None, 'accessKey': None, 'cognitoAuthenticationType': None, 'cognitoAuthenticationProvider': None, 'userArn': None, 'userAgent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.74 Safari/537.36', 'user': None}, 'domainName': 'plxyyiu9x0.execute-api.us-east-1.amazonaws.com', 'apiId': 'plxyyiu9x0'}, 'body': '{"siteName":"Test MRK 07","siteNumber":"264305","siteOwnerOrganizationId":"4","serviceProviderOrganizationId":"2","streetAddress1":"kphb 4 th phase","streetAddress2":"kukatpally JNTUH","city":"Hyderabad","state":"Telangana","country":"India","zipCode":"500081","locationLatitude":"18.17","locationLongitude":"72.05","siteTimezone":"America/New_York","sitePhone":"5556669991","siteNote":"a new site added","addressCode":"SP0705","customerNumber":"AS07"}', 'isBase64Encoded': False}
    # lambda_handler(event,event)